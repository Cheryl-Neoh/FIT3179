{
  "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
  "data": {
    "url": "https://cheryl-neoh.github.io/FIT3179/Assignment 2/Data/Malaysian-states.json",
    "format": {"type": "topojson", "feature": "states"}
  },
  "title": {
    "text": "Crime rates around Malaysia",
    "fontSize": 18,
    "offset": 20
  },
  "width": 500,
  "height": 250,
  "selection": {
    "highlight": {"type": "multi", "empty": "none", "on": "mouseover"},
    "highlight1": {"type": "multi"}
  },
  "transform": [
    {
      "lookup": "id",
      "from": {
        "data": {
          "url": "https://cheryl-neoh.github.io/FIT3179/Assignment 2/Data/2018-TotalCrimes.csv"
        },
        "key": "id",
        "fields": ["Rate per 100,000 people", "Year", "Total cases"]
      }
    }
  ],
  "projection": {"type": "equalEarth"},
  "mark": {"type": "geoshape", "stroke": "#757575", "strokeWidth": 0.8},
  "encoding": {
    "color": {
      "field": "Rate per 100,000 people",
      "type": "quantitative",
      "legend": {
        "title": ["Rate per", "100,000", "people"],
        "labelFontSize": 12,
        "titleFontSize": 12
      },
      "scale": {
        "type": "threshold",
        "domain": [150, 200, 250, 300, 550],
        "range": [
          "#fef0d9",
          "#fdd49e",
          "#fdbb84",
          "#fc8d59",
          "#e34a33",
          "#b30000"
        ]
      }
    },
    "tooltip": [
      {"field": "id", "type": "nominal", "title": "Country"},
      {"field": "Rate per 100,000 people", "type": "quantitative"},
      {"field": "Total cases", "type": "quantitative"},
      {"field": "Year", "type": "quantitative"}
    ],
    "strokeWidth": {
      "condition": [{"selection": "highlight", "value": 1}],
      "value": 0.3
    }
  },
  "config": {
    "background": "snow",
    "style": {
      "cell":{
        "stroke": "transparent"
      }
    }
  }
}
